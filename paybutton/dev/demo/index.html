<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Paybutton Bundle Test</title>
  <style>
    body {
      padding: auto;
      font-family: Arial, sans-serif;
    }
  </style>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <div class="navbar">
    <a href="./index.html#buttons-section">Buttons</a>
    <a href="./index.html#widgets-section">Widgets</a>
    <a href="./paybutton-generator.html">Generator</a>
  </div>

  <script src="./paybutton.js"></script>

  <div class="buttons-section">
    <div id="my_button"></div>
    <div class="paybutton" to="bitcoincash:qzy3s3qk8py0qvl97syex7tgap22pa2xfupwc4n659" amount="5" currency="USD"
      display-currency="BCH" size="sm"></div>

    <div class="paybutton" to="bitcoincash:qrzq4c88r7rqezcelp5r78cnw3nlry7zruz4d6n9x8"
      theme='{ "palette": { "primary": "#FF00FF", "secondary": "#ffffff", "tertiary": "#333333"} }'></div>

    <div class="paybutton" to="ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql" text="Purchase" amount="0.01"
      currency="CAD" goal-amount="2.5" success-text="WOW!" on-close="myClose" on-open="myOpen"
      on-success="mySuccessFunction" on-transaction="myTransactionFunction" editable="true" size="lg"></div>

    <div class="paybutton" to="bitcoincash:qzy3s3qk8py0qvl97syex7tgap22pa2xfupwc4n659" goal-amount="0.3" amount="0.05"
      currency="BCH" text="Purchase" on-transaction="myTransactionFunction" size="xl"></div>

    <div class="paybutton" to="ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql" goal-amount="2500.05" currency="USD"
      text="Donate (other dev)" on-success="mySuccessFunction" on-transaction="myTransactionFunction" disable-altpayment="false"></div>

    <div class="paybutton" to="ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql" goal-amount="2500000.05"
      on-close="myClose" on-open="myOpen" amount="50" currency="USD" text="Random Sats" random-satoshis="true"
      theme='{ "palette": { "tertiary": "#333333"} }'></div>

    <div class="paybutton" to="ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql" goal-amount="5000" on-close="myClose"
      on-open="myOpen" amount="15" currency="XEC" text="OP RETURN" op-return="classOf=2013 bullYears=2013|2017|2021">
    </div>

    <div class="paybutton" to="ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql" goal-amount="5000" on-close="myClose"
      on-open="myOpen" amount="15" currency="XEC" text="OP RETURN NO ID" disable-payment-id="true"
      op-return="classOf=2013 bullYears=2013|2017|2021"></div>

    <div class="paybutton" to="ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql" goal-amount="5000" on-close="myClose"
      on-open="myOpen" amount="15" currency="XEC" text="OP RETURN SHORT" op-return="ABC"></div>

    <div class="paybutton" to="ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql" goal-amount="5000" on-close="myClose"
      on-open="myOpen" amount="15" currency="XEC" text="OP RETURN EMOJI dev CT" op-return="ðŸ¦¾"></div>

    <div class="paybutton" to="ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql" goal-amount="5000" on-close="myClose"
      on-open="myOpen" amount="15" currency="XEC" text="OP RETURN JSON" op-return='{"Profit": "Yes"}'></div>

    <div class="paybutton" to="ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql" amount="10" on-close="myClose"
      on-open="myOpen" currency="XEC" text="Basic" on-success="mySuccessFunction"></div>

    <div class="paybutton" to="ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql" amount="10" on-close="myClose"
      on-open="myOpen" currency="XEC"
      theme='{ "palette": { "primary": "#D64045", "secondary": "#9ED8DB", "tertiary": "#222222"} }'
      text="Basic - Localhost" on-success="mySuccessFunction" ws-base-url="http://localhost:5000"
      api-base-url="http://localhost:3000"></div>
    <div class="paybutton" to="qpfx6l0x85kc5qaah4wx9nahezcgqefnss2sp0cy06"></div>
    <div class="dialogbutton btn purple">
      <button onclick="PayButton.openDialog({ to: 'bitcoincash:qzy3s3qk8py0qvl97syex7tgap22pa2xfupwc4n659', disabled: true })">
        open payment dialog disabled
      </button>
    </div>
    <div class="dialogbutton btn">
      <button onclick="PayButton.openDialog({ to: 'bitcoincash:qzy3s3qk8py0qvl97syex7tgap22pa2xfupwc4n659', disabled: false })">
        open payment dialog
      </button>
    </div>
  </div>
  <br />
  <div class="widgets-section" id="widgets-section">
    <div>
      <div id="the_widget" class="paybutton-widget" to="ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql"
        goal-amount="500000" hover-text="BLARG" amount="1000.69" success-text="WOW!" text="Purchase"
        on-success="mySuccessFunction" editable="true" on-transaction="myTransactionFunction"
        theme='{ "palette": { "primary": "#F18F01", "secondary": "#C3F3FD", "tertiary": "#2E4057"} }' disable-altpayment="true"></div>
      <div class="btn">
        <button onclick="buttonClick()">Switch up widget!</button>
      </div>
    </div>
    <div>
      <div>
        <div id="the_other_widget" class="paybutton-widget" to="ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql"
          goal-amount="500000" amount="1000.69" success-text="WOW!" text="Purchase" on-success="mySuccessFunction"
          editable="true" on-transaction="myTransactionFunction"
          theme='{ "palette": { "primary": "#463730", "secondary": "#759FBC", "tertiary": "#1F5673"} }'></div>
      </div>
      <div class="btn">
        <button onclick="button2Click()">
          Switch up widget!
        </button>
      </div>
    </div>
    <div>
      <div class="paybutton-widget" to="bitcoincash:qzy3s3qk8py0qvl97syex7tgap22pa2xfupwc4n659" amount="50000"
        currency="SAT" detect-payment="true"></div>
      <br />
    </div>
  </div>

  <script>
    function mySuccessFunction(tx) {
      console.log({ tx })
      console.log('Success')
    }

    function myTransactionFunction(tx) {
      console.log({ tx })
      console.log('Transaction')
    }

    function myClose(success, paymentId) {
      console.log('Closed!')
      console.log('Payment successful?: ' + success)
      console.log('Payment ID: ' + paymentId)
    }

    function myOpen(amount, to, paymentId) {
      console.log('Opened to: ' + to + ' for ' + amount + ' XEC')
      console.log('Payment ID: ' + paymentId)
    }

    var addressIndex = 0
    var addresses = [
      'ecash:qzcyfzlckkp9xz4hzs0qe44tjlv2qukjqs932w26ql',
    ]

    function buttonClick() {
      if (addressIndex == addresses.length) {
        addressIndex = 0
      }

      var amountForPayment = Math.floor(1 + Math.random() * 5) / 100
      var widgetConfig = {
        to: addresses[addressIndex],
        amount: amountForPayment,
        currency: 'CAD',
        text: 'Send (sum muhney)',
        hoverText: 'LETS GO 1',
      }

      console.log(widgetConfig)

      PayButton.renderWidget(
        document.getElementById('the_widget'),
        widgetConfig
      )

      addressIndex++
    }

    function button2Click() {
      if (addressIndex == addresses.length) {
        addressIndex = 0
      }

      var amountForPayment = Math.floor(1 + Math.random() * 5) + 5
      var widgetConfig = {
        to: addresses[addressIndex],
        amount: amountForPayment,
        text: 'Send (sum muhney)',
        hoverText: 'LETS GO 2',
      }

      console.log(widgetConfig)

      PayButton.renderWidget(
        document.getElementById('the_other_widget'),
        widgetConfig
      )

      addressIndex++
    }

    var config = {
      to: 'bitcoincash:qzy3s3qk8py0qvl97syex7tgap22pa2xfupwc4n659',
      amount: '0.01',
      currency: 'CAD',
      goalAmount: 25,
      text: 'Send (1 cent)',
      hoverText: 'For testing!!!',
      
      theme: {
        palette: {
          primary: '#040404',
          secondary: '#669CFE',
          tertiary: '#040404',
        },
      },
      animation: 'invert',
      successText: 'Payment sent to personal Bitcoin.com wallet',
      onSuccess: mySuccessFunction,
      onTransaction: myTransactionFunction,
      randomSatoshis: true,
      size: 'xs'
    }

    PayButton.render(document.getElementById('my_button'), config)
  </script>
</body>

</html>
