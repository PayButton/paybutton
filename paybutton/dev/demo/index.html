<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Paybutton Bundle Test</title>
  <style>
    body {
      padding: auto;
      font-family: Arial, sans-serif;
    }
  </style>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <div class="navbar">
    <a href="./index.html#buttons-section">Buttons</a>
    <a href="./index.html#widgets-section">Widgets</a>
    <a href="./paybutton-generator.html">Generator</a>
  </div>

  <script src="./paybutton.js"></script>

  <div class="buttons-section">
    <div text="ZXCV" class="paybutton" to="ecash:qz9kqn62csknd9hhpr5pvx9stmhn9nmffswltykuuf" goal-amount="0.3" amount="100"
      currency="XEC" disable-payment-id="false" text="Purchase" on-transaction="myTransactionFunction" size="xl"></div>
  </div>
  <br />

  <script>
    function mySuccessFunction(tx) {
      console.log({ tx })
      console.log('Success')
    }

    function myTransactionFunction(tx) {
      console.log({ tx })
      console.log('Transaction')
    }

    function myClose(success, paymentId) {
      console.log('Closed!')
      console.log('Payment successful?: ' + success)
      console.log('Payment ID: ' + paymentId)
    }

    function myOpen(amount, to, paymentId) {
      console.log('Opened to: ' + to + ' for ' + amount + ' XEC')
      console.log('Payment ID: ' + paymentId)
    }

    var addressIndex = 0
    var addresses = [
      'ecash:qp2v7kemclu7mv5y3h9qprwp0mrevkqt9gprvmm7yl',
    ]

    function buttonClick() {
      if (addressIndex == addresses.length) {
        addressIndex = 0
      }

      var amountForPayment = Math.floor(1 + Math.random() * 5) / 100
      var widgetConfig = {
        to: addresses[addressIndex],
        amount: amountForPayment,
        currency: 'CAD',
        text: 'Send (sum muhney)',
        hoverText: 'LETS GO 1',
      }

      console.log(widgetConfig)

      PayButton.renderWidget(
        document.getElementById('the_widget'),
        widgetConfig
      )

      addressIndex++
    }

    function button2Click() {
      if (addressIndex == addresses.length) {
        addressIndex = 0
      }

      var amountForPayment = Math.floor(1 + Math.random() * 5) + 5
      var widgetConfig = {
        to: addresses[addressIndex],
        amount: amountForPayment,
        text: 'Send (sum muhney)',
        hoverText: 'LETS GO 2',
      }

      console.log(widgetConfig)

      PayButton.renderWidget(
        document.getElementById('the_other_widget'),
        widgetConfig
      )

      addressIndex++
    }

    var config = {
      to: 'bitcoincash:qzy3s3qk8py0qvl97syex7tgap22pa2xfupwc4n659',
      amount: '0.01',
      currency: 'CAD',
      goalAmount: 25,
      text: 'Send (1 cent)',
      hoverText: 'For testing!!!',
      
      theme: {
        palette: {
          primary: '#040404',
          secondary: '#669CFE',
          tertiary: '#040404',
        },
      },
      animation: 'invert',
      successText: 'Payment sent to personal Bitcoin.com wallet',
      onSuccess: mySuccessFunction,
      onTransaction: myTransactionFunction,
      randomSatoshis: true,
      size: 'xs'
    }

  </script>
</body>

</html>
